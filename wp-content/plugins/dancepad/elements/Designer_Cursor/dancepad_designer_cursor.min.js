class NextDesignerCursor{constructor(element){this.cursor=element;this.config={targetSelector:element.getAttribute('data-target'),type:element.getAttribute('data-type'),};this.target=null;this.handleMouseMove=this.handleMouseMove.bind(this);this.handleMouseLeave=this.handleMouseLeave.bind(this);this.init()}
static instances=[];static destroyAll(){NextDesignerCursor.instances.forEach(instance=>instance.destroy());NextDesignerCursor.instances=[]}
init(){if(this.config.targetSelector){this.setupTarget()}}
setupTarget(){this.target=document.querySelector(this.config.targetSelector);if(!this.target)return;if(this.config.type==='1'||this.config.type==='true'){this.setupMovingCursor()}else{this.setupStaticCursor()}}
setupMovingCursor(){this.target.style.cursor='none';this.target.addEventListener('mousemove',this.handleMouseMove);this.target.addEventListener('mouseleave',this.handleMouseLeave)}
setupStaticCursor(){this.target.classList.add('dan-designer-cursor-relative-parent');this.target.style.position='relative';this.target.appendChild(this.cursor)}
handleMouseMove(event){const hoverRect=this.target.getBoundingClientRect();if(this.isWithinBounds(event.clientX,event.clientY,hoverRect)){this.cursor.classList.add('active');this.cursor.style.left=`${event.clientX}px`;this.cursor.style.top=`${event.clientY}px`}}
isWithinBounds(x,y,rect){return(x>=rect.left&&x<=rect.right&&y>=rect.top&&y<=rect.bottom)}
handleMouseLeave(){this.cursor.classList.remove('active')}
destroy(){if(!this.target)return;if(this.config.type==='1'||this.config.type==='true'){this.target.removeEventListener('mousemove',this.handleMouseMove);this.target.removeEventListener('mouseleave',this.handleMouseLeave);if(this.target.style.cursor==='none'){this.target.style.cursor=''}}
this.cursor.style.left='';this.cursor.style.top='';this.cursor.classList.remove('active');this.target=null;this.cursor=null}}
function dancepad_designer_cursor(){NextDesignerCursor.destroyAll();document.querySelectorAll('.dan-designer-cursor').forEach(element=>{element.removeAttribute('data-flickering');const instance=new NextDesignerCursor(element);NextDesignerCursor.instances.push(instance)})}