class NextCrystalButton{static instances=[];static initialized=!1;constructor(element){this.element=element}
static initialize(){if(NextCrystalButton.initialized)return;const handlePointerMove=({x,y})=>{const elementAtPoint=document.elementFromPoint(x,y);if(!elementAtPoint)return;const crystalButton=elementAtPoint.closest(".dan-crystal-button--control");if(!crystalButton)return;const rect=crystalButton.getBoundingClientRect();const relativeX=(x-rect.x)/rect.width;const relativeY=(y-rect.y)/rect.height;crystalButton.style.setProperty("--rx",relativeX);crystalButton.style.setProperty("--x",relativeX);crystalButton.style.setProperty("--y",relativeY)};document.body.addEventListener("pointermove",handlePointerMove);NextCrystalButton.initialized=!0;NextCrystalButton.pointerMoveHandler=handlePointerMove}
static destroy(){if(NextCrystalButton.pointerMoveHandler){document.body.removeEventListener("pointermove",NextCrystalButton.pointerMoveHandler)}
NextCrystalButton.initialized=!1;NextCrystalButton.instances=[]}}
const dancepad_crystal_button=()=>{NextCrystalButton.destroy();document.querySelectorAll(".dan-crystal-button").forEach(element=>NextCrystalButton.instances.push(new NextCrystalButton(element)));NextCrystalButton.initialize()}