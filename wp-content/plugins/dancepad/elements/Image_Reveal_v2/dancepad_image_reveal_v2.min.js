class ImageRevealV2{static instances=[];constructor(imageReveal){this.imageReveal=imageReveal;this.mask=imageReveal.querySelector('.dan-image-reveal-v2__mask');this.image=imageReveal.querySelector('.breakdance-image-object');this.timeline=null;this.observer=null;this.init()}
init(){this.imageReveal.removeAttribute('data-flickering');const isBreakdance=window.location.href.includes("breakdance_iframe");if(isBreakdance&&this.imageReveal.getAttribute('data-disable-builder')?.includes('1')){this.mask.style.transform='unset';this.image.style.transform='unset';this.image.style.position='relative';return}
const animationType=this.imageReveal.getAttribute('data-animationType');const removeScroll=this.imageReveal.getAttribute('data-remove-scroll')==='1';const triggerClick=this.imageReveal.getAttribute('data-classTriggerClick');const triggerHover=this.imageReveal.getAttribute('data-classTriggerHover');let triggerElement=this.imageReveal.getAttribute('data-trigger')==='this'?this.imageReveal:this.imageReveal.getAttribute('data-trigger');const containerAnimation=this.getHorizontalScrollContainerName(this.imageReveal);this.timeline=gsap.timeline({scrollTrigger:{trigger:triggerElement,start:this.imageReveal.getAttribute('data-start'),end:this.imageReveal.getAttribute('data-end'),scrub:this.imageReveal.getAttribute('data-scrub')==='1',toggleActions:this.imageReveal.getAttribute('data-toggle-actions'),containerAnimation:containerAnimation?window[containerAnimation]:undefined}});this.timeline.to(this.mask,{transform:"translateX(0) translateY(0)",duration:parseFloat(this.imageReveal.getAttribute('data-mask-duration')),ease:this.imageReveal.getAttribute('data-mask-ease'),delay:parseFloat(this.imageReveal.getAttribute('data-mask-delay')),});this.timeline.to(this.image,{transform:"translateX(0) translateY(0)",duration:parseFloat(this.imageReveal.getAttribute('data-image-duration')),ease:this.imageReveal.getAttribute('data-image-ease')},parseFloat(this.imageReveal.getAttribute('data-image-delay')));if(animationType==='click'&&triggerClick&&parseFloat(triggerClick)!==0){document.querySelectorAll(triggerClick).forEach(el=>el.addEventListener('click',()=>this.timeline.restart()))}
if(animationType==='hover'&&triggerHover&&parseFloat(triggerHover)!==0){document.querySelectorAll(triggerHover).forEach(el=>el.addEventListener('mouseover',()=>this.timeline.restart()))}
if(removeScroll){this.timeline.progress(1)}}
play(){if(this.timeline.isActive()){this.timeline.play()}else{this.timeline.restart()}}
reverse(){this.timeline.reverse()}
destroy(){if(this.observer){this.observer.disconnect()}
if(this.timeline?.scrollTrigger){this.timeline.scrollTrigger.kill();this.timeline.kill()}
if(this.mask&&this.image){this.mask.style.transform='unset';this.image.style.transform='unset';this.image.style.position='relative'}}
getHorizontalScrollContainerName(element){let containerName=null;document.querySelectorAll('.dan-horizontal-scroll').forEach((scroll,index)=>{if(scroll.contains(element)){containerName=`NextHorizontalScroll${index}`}});return containerName}
static destroyAllInstances(){ImageRevealV2.instances.forEach(instance=>instance.destroy());ImageRevealV2.instances=[]}}
function dancepad_image_reveal_v2(){if(document.querySelector(".dan-site-loader")&&!window.location.href.includes("breakdance_iframe")){return}
ImageRevealV2.destroyAllInstances();document.querySelectorAll('.dan-image-reveal-v2').forEach(imageReveal=>{const instance=new ImageRevealV2(imageReveal);ImageRevealV2.instances.push(instance)})}
function dancepad_image_reveal_v2_site_loader(){ImageRevealV2.destroyAllInstances();document.querySelectorAll('.dan-image-reveal-v2').forEach(imageReveal=>{const instance=new ImageRevealV2(imageReveal);ImageRevealV2.instances.push(instance)})}