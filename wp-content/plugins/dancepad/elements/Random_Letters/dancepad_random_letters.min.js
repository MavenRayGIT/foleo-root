class NextRandomLetters{static instances=[];constructor(element){Object.assign(this,{element,inner:element.querySelector(".dan-random-letters__inner"),start:element.getAttribute("data-start"),end:element.getAttribute("data-end"),ease:element.getAttribute("data-easing"),duration:parseFloat(element.getAttribute("data-duration")),trigger:element.getAttribute("data-trigger")==="this"?element:element.getAttribute("data-trigger"),toggleActions:element.getAttribute("data-toggleactions"),scrub:element.getAttribute("data-scrub")==="1",additionalTriggers:element.getAttribute("data-additional_triggers"),triggerElement:element.getAttribute("data-element"),scale:parseFloat(element.getAttribute("data-scale")),animations:{},eventListeners:[],});this.initialize()}
initialize(){if(!this.inner)return;const content=this.inner.getAttribute("data-content");if(content){this.inner.innerHTML=content}
this.createSplitText();this.createAnimations();this.setupAdditionalTriggers()}
createSplitText(){if(this.splitText){this.splitText.revert()}
this.splitText=new SplitText(this.inner,{type:"words, chars",wordsClass:"word",charsClass:"char"})}
createAnimations(){const containerName=[...document.querySelectorAll(".dan-horizontal-scroll")].findIndex((scroll)=>scroll.contains(this.element))!==-1?`NextHorizontalScroll${[...document.querySelectorAll(".dan-horizontal-scroll")].findIndex((scroll) => scroll.contains(this.element))}`:undefined;this.inner.querySelectorAll(".char").forEach((char,i)=>{const randomDuration=gsap.utils.random(0.6,this.duration);const randomDelay=gsap.utils.random(0,this.duration-randomDuration);this.animations[`anim${i}`]=gsap.timeline({scrollTrigger:{trigger:this.trigger,containerAnimation:containerName?window[containerName]:undefined,start:this.start,end:this.end,scrub:this.scrub,toggleActions:this.toggleActions}}).from(char,{opacity:0,scale:this.scale,duration:this.duration,delay:randomDelay,ease:this.ease})})}
setupAdditionalTriggers(){if(this.additionalTriggers&&this.triggerElement){const eventType=this.additionalTriggers.includes("click")?"click":"mouseover";[...document.querySelectorAll(this.triggerElement)].forEach((el)=>{const listener=()=>Object.values(this.animations).forEach((anim)=>anim.restart());el.addEventListener(eventType,listener);this.eventListeners.push({element:el,type:eventType,listener})})}}
destroy(){Object.values(this.animations).forEach((anim)=>{if(anim.scrollTrigger)anim.scrollTrigger.kill();anim.kill()});if(this.splitText){this.splitText.revert()}
this.eventListeners.forEach(({element,type,listener})=>{element.removeEventListener(type,listener)});if(this.inner){const content=this.inner.getAttribute("data-content");if(content){this.inner.innerHTML=content}}
this.animations={};this.eventListeners=[]}
static destroyAll(){NextRandomLetters.instances.forEach((instance)=>instance.destroy());NextRandomLetters.instances=[]}}
const dancepad_random_letters=()=>{if(document.querySelector(".dan-site-loader")&&!window.location.href.includes("breakdance_iframe")){return}
gsap.registerPlugin(ScrollTrigger);NextRandomLetters.destroyAll();const instances=[];document.querySelectorAll(".dan-random-letters").forEach((element)=>{element.removeAttribute("data-flickering");instances.push(new NextRandomLetters(element))});NextRandomLetters.instances=instances;return NextRandomLetters.instances.reduce((acc,instance)=>({...acc,...instance.animations}),{})};const dancepad_random_letters_site_loader=()=>{gsap.registerPlugin(ScrollTrigger);NextRandomLetters.destroyAll();const instances=[];document.querySelectorAll(".dan-random-letters").forEach((element)=>{element.removeAttribute("data-flickering");instances.push(new NextRandomLetters(element))});NextRandomLetters.instances=instances;return NextRandomLetters.instances.reduce((acc,instance)=>({...acc,...instance.animations}),{})}