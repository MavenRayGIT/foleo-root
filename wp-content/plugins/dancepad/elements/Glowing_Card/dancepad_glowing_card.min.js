class NextGlowingCard{constructor(){this.isFineCursor=window.matchMedia("(pointer:fine)").matches;this.disableAtTouch=!1;this.htmlElement=document.querySelector('html');this.handleDesktopPointerMove=this.handleDesktopPointerMove.bind(this);this.handleTouchPointerMove=this.handleTouchPointerMove.bind(this)}
static instance=null;static initialize(){if(NextGlowingCard.instance){NextGlowingCard.instance.destroy()}
NextGlowingCard.instance=new NextGlowingCard();NextGlowingCard.instance.init()}
init(){this.initializeCards();if(!this.disableAtTouch){this.setupInitialCoordinates();this.bindEvents()}}
initializeCards(){const cards=document.querySelectorAll('.dan-glowing-card');if(!this.isFineCursor){cards.forEach(card=>{card.removeAttribute('data-hide');card.removeAttribute('data-flickering');if(card.getAttribute('data-disable-touch-devices')==='1'){this.disableAtTouch=!0}})}else{cards.forEach(card=>{card.removeAttribute('data-hide');card.removeAttribute('data-flickering')})}}
setupInitialCoordinates(){const farAwayCoordinate='100000';const coordinates=['--x','--xp','--y','--yp'];coordinates.forEach(coord=>{document.documentElement.style.setProperty(coord,farAwayCoordinate)})}
updateCoordinates(x,y,isScrollIncluded=!1){let coordX=isScrollIncluded?x+window.scrollX:x;let coordY=isScrollIncluded?y+window.scrollY:y;document.documentElement.style.setProperty('--x',coordX.toFixed(2));document.documentElement.style.setProperty('--y',coordY.toFixed(2));const containerWidth=isScrollIncluded?document.documentElement.scrollWidth:window.innerWidth;const containerHeight=isScrollIncluded?document.documentElement.scrollHeight:window.innerHeight;const xPercentage=(coordX/containerWidth).toFixed(2);const yPercentage=(coordY/containerHeight).toFixed(2);document.documentElement.style.setProperty('--xp',xPercentage);document.documentElement.style.setProperty('--yp',yPercentage)}
handleDesktopPointerMove({x,y}){this.updateCoordinates(x,y)}
handleTouchPointerMove({x,y,target}){this.updateCoordinates(x,y,!0);const isNextGlowingCard=target.classList.contains('dan-glowing-card')||target.closest('.dan-glowing-card')}
bindEvents(){if(this.isFineCursor){document.body.addEventListener('pointermove',this.handleDesktopPointerMove)}else{document.body.addEventListener('pointermove',this.handleTouchPointerMove)}}
destroy(){document.body.removeEventListener('pointermove',this.handleDesktopPointerMove);document.body.removeEventListener('pointermove',this.handleTouchPointerMove);const coordinates=['--x','--xp','--y','--yp'];coordinates.forEach(coord=>{document.documentElement.style.removeProperty(coord)});document.querySelectorAll('.dan-glowing-card').forEach(card=>{card.setAttribute('data-hide','')})}}
function dancepad_glowing_card(){NextGlowingCard.initialize()}