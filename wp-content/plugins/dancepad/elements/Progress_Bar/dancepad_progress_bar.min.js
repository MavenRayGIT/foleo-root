class NextProgressBar{constructor(element){this.element=element;this.inner=element.querySelector('.dan-progress-bar__inner');this.number=element.querySelector('.dan-progress-bar__number');this.updateProgress=this.updateProgress.bind(this);this.init()}
static instances=[];static destroyAll(){NextProgressBar.instances.forEach(instance=>instance.destroy());NextProgressBar.instances=[]}
init(){this.bindEvents();this.updateProgress()}
calculateProgress(){const bodyHeight=document.body.scrollHeight;const scrollTop=window.scrollY;const windowHeight=window.innerHeight;return Math.min((scrollTop/(bodyHeight-windowHeight))*100,100)}
updateProgress(){const percentage=this.calculateProgress();if(this.inner){this.inner.style.height=`${percentage}%`}
if(this.number){this.number.textContent=`${Math.round(percentage)}%`;this.number.style.top=`${percentage}%`}}
bindEvents(){window.addEventListener('scroll',this.updateProgress)}
destroy(){window.removeEventListener('scroll',this.updateProgress);if(this.inner){this.inner.style.height=''}
if(this.number){this.number.style.top='';this.number.textContent=''}
this.element=null;this.inner=null;this.number=null}}
function dancepad_progress_bar(){NextProgressBar.destroyAll();document.querySelectorAll('.dan-progress-bar').forEach(element=>{const instance=new NextProgressBar(element);NextProgressBar.instances.push(instance)})}
document.addEventListener('DOMContentLoaded',function(){if(window.bricksIsFrontend){dancepad_progress_bar()}})