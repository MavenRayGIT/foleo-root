class NextLetterLauncher{static instances=[];constructor(element){Object.assign(this,{element,inner:element.querySelector(".dan-letter-launcher__inner"),start:element.getAttribute("data-start"),end:element.getAttribute("data-end"),ease:element.getAttribute("data-easing"),duration:parseFloat(element.getAttribute("data-duration")),delay:parseFloat(element.getAttribute("data-delay")),trigger:element.getAttribute("data-trigger")==="this"?element:element.getAttribute("data-trigger"),toggleActions:element.getAttribute("data-toggleactions"),scrub:element.getAttribute("data-scrub")==="1",additionalTriggers:element.getAttribute("data-additional_triggers"),triggerElement:element.getAttribute("data-element"),stagger:parseFloat(element.getAttribute("data-stagger")),altitude:parseFloat(element.getAttribute("data-altitude")),rotation:parseFloat(element.getAttribute("data-rotation")),eventListeners:[],});this.initialize()}
initialize(){if(!this.inner)return;const content=this.inner.getAttribute("data-content");if(!content)return;this.inner.innerHTML=content;this.createSplitText();this.createAnimation();this.setupAdditionalTriggers()}
createSplitText(){this.splitText=new SplitText(this.inner,{type:"words, chars",wordsClass:"word",charsClass:"char"})}
createAnimation(){const containerName=[...document.querySelectorAll(".dan-horizontal-scroll")].findIndex((scroll)=>scroll.contains(this.element))!==-1?`NextHorizontalScroll${[...document.querySelectorAll(".dan-horizontal-scroll")].findIndex((scroll) => scroll.contains(this.element))}`:undefined;this.animation=gsap.timeline({scrollTrigger:{trigger:this.trigger,containerAnimation:containerName?window[containerName]:undefined,start:this.start,end:this.end,toggleActions:this.toggleActions,scrub:this.scrub}}).fromTo(this.splitText.chars,{y:this.altitude,rotation:this.rotation,opacity:0},{y:0,rotation:0,opacity:1,stagger:this.stagger,duration:this.duration,delay:this.delay,ease:this.ease})}
setupAdditionalTriggers(){if(this.additionalTriggers&&this.triggerElement){const eventType=this.additionalTriggers.includes("click")?"click":"mouseover";[...document.querySelectorAll(this.triggerElement)].forEach((el)=>{const listener=()=>this.animation.restart();el.addEventListener(eventType,listener);this.eventListeners.push({element:el,type:eventType,listener})})}}
destroy(){if(this.animation?.scrollTrigger){this.animation.scrollTrigger.kill()}
if(this.animation){this.animation.kill()}
if(this.splitText){this.splitText.revert()}
this.eventListeners.forEach(({element,type,listener})=>{element.removeEventListener(type,listener)});this.eventListeners=[];if(this.inner){const originalContent=this.inner.getAttribute("data-content")||"";this.inner.innerHTML=originalContent}}
static destroyAll(){NextLetterLauncher.instances.forEach((instance)=>instance.destroy());NextLetterLauncher.instances=[]}}
const dancepad_letter_launcher=()=>{if(document.querySelector(".dan-site-loader")&&!window.location.href.includes("breakdance_iframe")){return}
gsap.registerPlugin(ScrollTrigger);NextLetterLauncher.destroyAll();const instances=[];const animations={};document.querySelectorAll(".dan-letter-launcher").forEach((element,index)=>{element.removeAttribute("data-flickering");const instance=new NextLetterLauncher(element);instances.push(instance);animations[`anim${index}`]=instance.animation});NextLetterLauncher.instances=instances;return animations};const dancepad_letter_launcher_site_loader=()=>{gsap.registerPlugin(ScrollTrigger);NextLetterLauncher.destroyAll();const instances=[];const animations={};document.querySelectorAll(".dan-letter-launcher").forEach((element,index)=>{element.removeAttribute("data-flickering");const instance=new NextLetterLauncher(element);instances.push(instance);animations[`anim${index}`]=instance.animation});NextLetterLauncher.instances=instances;return animations}