class HighlightEffect{static instances=[];constructor(el){this.highlightedElement=el;this.selectMarker=this.highlightedElement.querySelector('.dan-highlight__selectors');const start=this.highlightedElement.getAttribute('data-start');const toggleActions=this.highlightedElement.getAttribute('data-toggleActions');const duration=parseFloat(this.highlightedElement.getAttribute('data-duration'));const delay=parseFloat(this.highlightedElement.getAttribute('data-delay'));const ease=this.highlightedElement.getAttribute('data-ease');const containerAnimationName=this.getHorizontalScrollContainerName(this.highlightedElement);if(this.selectMarker){this.timeline=gsap.timeline({scrollTrigger:{trigger:this.highlightedElement,start:start,toggleActions:toggleActions,containerAnimation:containerAnimationName?window[containerAnimationName]:undefined}});this.timeline.to(this.selectMarker,{duration:duration,delay:delay,ease:ease,'--select-width':getComputedStyle(this.highlightedElement).getPropertyValue('--select-width-final')})}}
playAnimation(){if(this.timeline&&this.timeline.isActive()){this.timeline.play()}else if(this.timeline){this.timeline.restart()}}
reverseAnimation(){if(this.timeline){this.timeline.reverse()}}
destroy(){if(this.observer){this.observer.disconnect()}
if(this.timeline&&this.timeline.scrollTrigger){this.timeline.scrollTrigger.kill();this.timeline.kill()}}
getHorizontalScrollContainerName(element){let containerName=null;document.querySelectorAll('.dan-horizontal-scroll').forEach((scroll,index)=>{if(scroll.contains(element)){containerName=`NextHorizontalScroll${index}`}});return containerName}
static destroyAllInstances(){HighlightEffect.instances.forEach(instance=>instance.destroy());HighlightEffect.instances=[]}}
function dancepad_highlight(){if(document.querySelector(".dan-site-loader")&&!window.location.href.includes("breakdance_iframe")){return}
HighlightEffect.destroyAllInstances();const isBreakdance=window.location.href.includes("breakdance_iframe");document.querySelectorAll('.dan-highlight__mark').forEach(highlight=>{highlight.removeAttribute('data-flickering');if(isBreakdance&&highlight.getAttribute('data-disable-builder')?.includes('1')){return}
const instance=new HighlightEffect(highlight);HighlightEffect.instances.push(instance)})}
function dancepad_highlight_site_loader(){HighlightEffect.destroyAllInstances();const isBreakdance=window.location.href.includes("breakdance_iframe");document.querySelectorAll('.dan-highlight__mark').forEach(highlight=>{highlight.removeAttribute('data-flickering');if(isBreakdance&&highlight.getAttribute('data-disable-builder')?.includes('1')){return}
const instance=new HighlightEffect(highlight);HighlightEffect.instances.push(instance)})}