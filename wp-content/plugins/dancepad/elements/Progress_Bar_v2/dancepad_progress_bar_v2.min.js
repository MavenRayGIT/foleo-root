class DanProgressBarV2{static instances=[];constructor(element){this.progressBar=element;this.currentAnimation=null;this.boundUpdateProgress=this.updateProgress.bind(this);this.duration=parseFloat(this.progressBar.getAttribute('data-duration'));this.ease=this.progressBar.getAttribute('data-ease');this.init();this.bindEvents()}
init(){const gradientColors=this.progressBar.getAttribute('data-gradient-colors');if(gradientColors){const colors=gradientColors.split('dan11').filter(color=>color.trim()!=='');const gradient=`linear-gradient(to right, ${colors.join(', ')})`;this.progressBar.style.background=gradient}
gsap.set(this.progressBar,{transformOrigin:"left center"});this.updateProgress()}
updateProgress(){const maxScroll=document.documentElement.scrollHeight-window.innerHeight;const progress=window.scrollY/maxScroll;if(this.currentAnimation){this.currentAnimation.kill()}
this.currentAnimation=gsap.to(this.progressBar,{scaleX:progress,duration:this.duration,ease:this.ease})}
bindEvents(){window.addEventListener('scroll',this.boundUpdateProgress)}
destroy(){window.removeEventListener('scroll',this.boundUpdateProgress);if(this.currentAnimation){this.currentAnimation.kill()}}
static destroyAllInstances(){DanProgressBarV2.instances.forEach((instance)=>instance.destroy());DanProgressBarV2.instances=[]}}
function dancepad_progress_bar_v2(){DanProgressBarV2.destroyAllInstances();document.querySelectorAll('.dan-progress-bar-v2').forEach(progressBar=>{const instance=new DanProgressBarV2(progressBar);DanProgressBarV2.instances.push(instance)})}